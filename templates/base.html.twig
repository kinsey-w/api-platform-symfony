<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Movies API{% endblock %}</title>
        {% block stylesheets %}{% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body>
        <header class="site-header">
            <div class="site-header__inner container">
                <a href="{{ path('movies_list') }}" class="logo">
                    <span class="logo__icon">ðŸŽ¬</span>
                    <span class="logo__text">Movies API</span>
                </a>

                <nav class="main-nav">
                    <a href="{{ path('movies_list') }}">Movies</a>

                    {# User is logged in #}
                    {% if app.user %}
                        <span class="nav-username">ðŸ‘¤ {{ app.user.email }}</span>
                        <a href="{{ path('logout') }}">Logout</a>

                    {# User is NOT logged in #}
                    {% else %}
                        <a href="{{ path('login') }}">Login</a>
                    {% endif %}
                </nav>
            </div>
        </header>

        <main class="site-main">
            <div class="container">
                {% block body %}{% endblock %}
            </div>
        </main>

        <footer class="site-footer">
            <div class="container">
                <p>Built with Symfony &amp; API Platform</p>
            </div>
        </footer>
    </body>
</html>
